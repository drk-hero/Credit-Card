<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rahmat saghafi</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/local.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&display=swap" rel="stylesheet">
</head>

<body>
    <main class="container main-peymet">
        <section class="row justify-content-evenly sec-parent-peymet align-items-center">
            <div class="container peyent-title">
                <h1>Payment Information</h1>
            </div>
            <div class="col-10 col-lg-6 cart-peyment">
                <div class="back-cart">
                    <div class="line-black"></div>
                    <div class="line-ccv2-name">
                        <div class="row line-ccv2-row">
                            <div class="col-8 back-name">
                                <p id="bac-name-p"></p>
                            </div>
                            <div id="backccv2" class="col-2">
                            </div>
                            <div class="container-fluid">
                                security code
                            </div>
                        </div>
                    </div>
                </div>
                <div class="front-cart">
                    <div class="container-fluid p-0">
                        <img class="sim-cart" src="img/sim.png" alt="">
                        <div class="custom-shape-divider-top-1659450214">
                            <svg class="svg-background-silver" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                                <path
                                    d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z"
                                    class="shape-fill"></path>
                            </svg>
                        </div>
                        <div class="container-fluid main-cart-front">
                            <div class="row">
                                <div class="col-12 card-number-body">
                                    <span>Card Number</span>
                                    <p id="card-numbered"></p>
                                </div>
                                <!-- 2number of footer -->
                                <div class="col-8 card-number-body">
                                    <span>cardholder name</span>
                                    <p id="card-name"></p>
                                </div>
                                <div class="col-4 card-number-body">
                                    <span>expiration</span>
                                    <div class="row">
                                        <p class="col" id="card-expiration-mm"></p>
                                        <span id="dashed"></span>
                                        <p class="col" id="card-expiration-yy"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-10 col-lg-6 box-peyment mt-5 mt-lg-0">
                <div class="row justify-content-center">
                    <div class="col-10">
                        <label for="Fname">Name</label>
                        <input onkeyup="_nameCard(this ,0)" id="Fname" type="text" placeholder="rahmat...">
                    </div>
                    <div class="col-10">
                        <label for="Cnumber">Card Number</label>
                        <input onkeyup="_number_crd(this,1)" id="Cnumber" type="text" maxlength="16" placeholder="6037-****-****-**26">
                    </div>
                    <div class="col-10">
                        <div class="row">
                            <div class="col-6 pe-0">
                                <div class="row">
                                    <div class="col-6">
                                        <label for="Expiration_mm">Expiration (mm)</label>
                                        <input onkeyup="_expiration_mm(this,2)" id="Expiration_mm" type="number" maxlength="2" pattern="[0-9]*" placeholder="(mm)">
                                    </div>
                                    <div class="col-6">
                                        <label for="Expiration_yy">Expiration (yy)</label>
                                        <input onkeyup="_expiration_yy(this,3)" id="Expiration_yy" type="number" maxlength="2" pattern="[0-9]*" placeholder="(yy)">
                                    </div>
                                </div>

                            </div>
                            <div class="col-6">
                                <label for="Security">Security Code</label>
                                <input onkeyup="_ccvtwo(this ,4)" id="Security" maxlength="5" type="text" placeholder="CCV2">
                            </div>
                        </div>
                    </div>
                    <div class="col-10">
                        <input class="btn btn-paymet" type="submit" placeholder="the payment">
                    </div>
                </div>
            </div>
        </section>
    </main>

</body>
<script>
    let _name_c

    // name
    function _nameCard(self, _number) {
        _name_c = self.value
        document.getElementById('bac-name-p').innerText = _name_c
        document.getElementById('card-name').innerText = _name_c
    }
    // ccv2
    function _ccvtwo(self, _number) {
        var _name_c = self.value
            // _focused = self
            // console.log(_name_c)
        document.getElementById('backccv2').innerText = _name_c
    }
    document.addEventListener("click", function() {
        let _focused = document.getElementById('Security')
        if (_focused == document.activeElement) {
            document.getElementsByClassName('front-cart')[0].style.transform =
                'perspective(800px)rotateY(180deg)'
            document.getElementsByClassName('front-cart')[0].style.zIndex = '0'
            document.getElementsByClassName('back-cart')[0].style.transform = 'perspective(800px)rotateY(0deg)'
            document.getElementsByClassName('back-cart')[0].style.zIndex = '1'
        } else {
            document.getElementsByClassName('front-cart')[0].style.transform = 'perspective(800px)rotateY(0deg)'
            document.getElementsByClassName('front-cart')[0].style.zIndex = '1'
            document.getElementsByClassName('back-cart')[0].style.transform =
                'perspective(800px)rotateY(-180deg)'
            document.getElementsByClassName('back-cart')[0].style.zIndex = '0'

        }
    })




    // number cart
    let _numberedd = document.getElementById('card-numbered')

    function _number_crd(self, _number) {
        _name_c = self.value
        if (_name_c.length <= 3) {
            _numberedd.innerText = _name_c.substring(0, 4) + " - "
        } else if (_name_c.length >= 4 && _name_c.length < 8) {
            _numberedd.innerText = _name_c.substring(0, 4) + " - " + _name_c.substring(4, 8) + ' - '
        } else if (_name_c.length >= 8 && _name_c.length <= 12) {
            _numberedd.innerText = _name_c.substring(0, 4) + " - " + _name_c.substring(4, 8) + ' - ' + _name_c
                .substring(8, 12) + ' - '
        } else if (_name_c.length >= 12 && _name_c.length <= 16) {
            _numberedd.innerText = _name_c.substring(0, 4) + " - " + _name_c.substring(4, 8) + ' - ' + _name_c
                .substring(8, 12) + ' - ' + _name_c.substring(12, 16)
        }
        if (_name_c.length == 16) {
            document.getElementById('Expiration_mm').focus()
        }
    }



    // expiration
    let _yy, _mm, _card_expiration

    function _expiration_mm(self, _number) {
        _card_expiration = document.getElementById('card-expiration-mm')
        _mm = self.value
        if (_mm.length <= "2") {
            // if(_mm == '00')
            if (_mm <= "12") {
                // console.log(_mm)
                _card_expiration.innerText = _mm

            } else {
                alert('number is not Expiration (mm)')
                document.getElementById('Expiration_mm').value = ""

            }
        } else {
            alert('number is not Expiration (mm)')
            document.getElementById('Expiration_mm').value = ""
        }
        if (_mm.length == 2) {
            document.getElementById('Expiration_yy').focus()
        }


    }

    function _expiration_yy(self, _number) {
        _yy = self.value
        let _dash = document.getElementById('dashed')
        _dash.style.opacity = '1'
        _card_expiration = document.getElementById('card-expiration-yy')
        if (_yy.length < "2") {
            _card_expiration.innerText = _yy
        } else {
            alert('number is not Expiration (yy)')
            document.getElementById('Expiration_yy').value = ""
        }

    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
</script>

</html>